---
lab:
  title: 'ラボ 5: 分析情報を生成する'
---

# ラボ 5: 分析情報を生成する 

このラボでは、以下の方法について説明します。
- セグメントに関する分析情報を生成する 
- セグメント間の差別化要因と重複を表示する 
- セグメントに基づく提案されたセグメントを構築する 

## 演習 1: セグメントに関する分析情報を生成する
### タスク 1: セグメントの差別化要因
多くの場合、顧客は複数のセグメントに存在します。 これらの間に重複が発生する場合を理解すると役立ちます。 **Customers from Texas** セグメントと **Fall close out Promotion** セグメントの両方に属する共通の顧客と、**Reward points**と **LifetimeSpend** の観点でのこれらのセグメント両方を区別するものを見つけてみましょう。

1. 左側のナビゲーション メニューから **[インサイト]、[セグメント]** の順に選択します。 **[分析情報 (プレビュー)]** タブを選択し、コマンド バーから **[+ 新規]** を選択するか、**[+ 新しい分析情報]** ボタンを選択します。

1. すると 2 つのオプションが表示されます。 まずは**差別化要因**を使用して、これらの両方のセグメントを区別するものを見てみましょう。 **[差別化要因]** を選択します。

1. 主セグメントとして **[Fall Closeout Promotion]** を選択します。 [**次へ**] を選択します。

1. もう 1 つのセグメントとして **[Customers from Texas]** を選択し、**[次へ]** を選択します。

1. 次に、**[顧客フィールド]** の **[Reward points]** と **[メジャー フィールド]** の **[LifetimeSpend]** を選択して、上記のセグメントが **Reward points** と **LifetimeSpend** に関して互いにどのように異なるかを確認します。 他のすべての顧客フィールドとメジャー フィールドをクリアします。

1. **[次へ]** を選択し、分析情報の名前を「**Fall Promotion vs Customers from Texas**」に設定します。

1. **[出力エンティティ名]** が **FallPromotionvsCustomersfromTexas** に設定されていることを確認します。 **[保存]** を選択します。

1. 分析情報の更新が完了したら、作成された分析情報を開きます。 **[属性]** または **[メジャー]** タブを選択して、選択したフィールドに関してセグメントが互いにどのように異なるかを確認します。 差の程度を示す**差異スコア**を確認します。 このスコアが高いほど差異が大きくなります。

1. 各メジャーおよび属性を選択して、より詳細な分析情報を確認します。

### タスク 2: セグメントの重複
**差別化要因**を使用してセグメント分析情報が正常に作成されたので、**重複**を使用して分析情報を作成しましょう。

1. **[セグメント] - [分析情報 (プレビュー)]** タブが表示されていることを確認し、コマンド バーから **[+ 新規]** を選択します。 **[重複]** を選択します。

1. **Fall Closeout Promotion** セグメントと **Customers from Texas** セグメントの両方を選択して、共有されている顧客を確認します。

1. [**次へ**] を選択します。

1. セグメントの名前を「**Fall Promotion Customers Overlapped with Texas Customers**」に設定し、**[出力テーブル名]** が **FallPromotionCustomersOverlappedwithTexasCustomers** に設定されていることを確認します。 **[保存]** を選択します。

1. 分析情報の更新が完了したら、作成された分析情報を開いて、これら 2 つのセグメント間で共有されている顧客の総数と割合を示すベン図を表示します。

## 演習 2: セグメントの拡張と提案されたセグメント
### タスク 1: セグメントの拡張
セグメントの拡張を使用すると、人工知能を使用してセグメントの顧客ベースと類似する顧客を見つけることができます。 先ほど **Fall Promotion Customers** というセグメントを作成しました。このセグメントには、平均店舗内購入額よりも高いミレニアル世代の顧客が含まれています。 そこで、このセグメントを拡張して、新発売の水出しコーヒーを販売するために、類似する顧客を見つけましょう。

1. 左側のナビゲーション メニューから **[分析情報]、[セグメント]** の順に選択し、**[すべてのセグメント]** タブを選択します。

1. **Fall Promotion Customers** セグメントを選択します。 これがソース セグメントになります。

1. コマンド バーから **[類似する顧客の検索]** を選択します。

1. セグメントの名前を **FallPromoExpansion** に設定します。

1. 次の手順で **[フィールドの追加]** を選択して、類似する顧客を検索するのに使用する属性とメジャーを選択します。 場所と平均店舗内購入額が同様である顧客を対象とするため、**[PostCode]** と **[AverageStorePurchase]** を選択します。 **適用**を選択します。

1. 次に、検討する対象を選択する必要があります。 ここでは、**[ソース セグメントを除くすべての顧客]** を選択します。

1. ここで、対象とする顧客の最大数を選択する必要があります。 **[20%]** にしましょう。

1. ソース セグメントのメンバーも対象にする場合は、最後のオプションをオンにします。 それ以外の場合は、オフのままにします。 ここでの目的では、オフのままにすることができます。

1. **[実行]** を選択します。

1. セグメントの更新が完了したら、セグメントを開いて**類似性スコア**を見つけ、**[セグメント メンバーのプレビュー]** を確認します。

### タスク 2: 提案されたセグメントを取得する 
顧客属性または関心のあるメジャーに基づいて興味深いセグメントを検出するには、提案されたセグメントを使用します。

1. 左側のナビゲーション メニューから **[分析情報]、[セグメント]** の順に選択し、**[提案 (プレビュー)]** タブを選択します。

1. **[提案の取得]** を選択して、構成エクスペリエンスを開始します。

1. **[メジャー/メトリックを改善する]** を選択し、**[開始]** を選択します。

1. **[メジャー フィールド]** で、ターゲット属性として **LifetimeSpend** を選択します。 [**次へ**] を選択します。

1. 次に、ターゲット属性 (**LifetimeSpend**) に影響する可能性がある属性を選択して、AI モデルが影響を与える属性とターゲット属性の間の興味深いパターンを見つけられるようにします。 モデルでは、このパターンに基づいてセグメントが提案されます。 影響を与える属性として **Email Subscriber**、**Income**、**Loyalty Tier**、**Occupation**、**State** を選択します。

1. **[実行]** を選択します。 AI モデルは、影響を与える属性として選択したものとターゲット属性との間のパターンの検出を開始し、セグメントの提案を出します。 モデルの分析が完了するまで数分待ってください。

1. モデルの実行が完了し、影響を与える属性とターゲット属性との間のパターンが見出される場合は、セグメントの提案が **[提案 (プレビュー)]** タブに表示されます。

1. セグメントを保存するには、**[提案されたセグメントの詳細]** パネルで **[セグメントとして保存]** を選択します。 **[保存]** を選択します。

1. 保存されたセグメントは、**[すべてのセグメント]** タブの下で確認でき、他の動的セグメントと同様にダウンストリーム プロセスに使用できます。 セグメントを保存した後にモデルが学習したルールを確認する場合は、**[すべてのセグメント]** タブで **[編集]** を選択するとできます。
